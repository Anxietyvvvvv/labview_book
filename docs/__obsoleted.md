# 一些废弃的内容


## 共享变量

共享变量与全局变量相比，其作用域更广。它不但可以在不同的 VI 之间传递数据，还可以在不同的程序，甚至不同的计算机以及硬件设备间传递数据。在实际应用中，共享变量主要用于网络上不同 VI 的数据共享，或读写其它硬件设备上的数据。

共享变量的创建方法与全局变量相同，可以从模板中创建，也可以在项目浏览器的右键菜单中选择 "新建 -\> 变量"，创建出一个共享变量。共享变量不是一个单独的 VI，它是 LV 库的一部分，它只能创建在某个 LV 库（lvlib 文件）下。

创建共享变量时，首先会弹出共享变量属性对话框，设置共享变量的名称、类型等属性（图
4.27）。共享变量有三种：单进程、网络发布、以及时间触发的共享变量。时间触发的共享变量应用于 LabVIEW 实时系统模块，安装了 LabVIEW 实时模块后才可以使用。

![](images/image267.png)

图 .27 共享变量属性对话框

单进程和网络发布的共享变量仅作用域不同，使用方法是相同的。这里着重介绍一下单进程共享变量。

单进程共享变量，顾名思义就是作用域为单个应用程序进程的共享变量。它与全局变量的性质是完全相同的。唯一的不同点是单进程共享变量都带有错误输入 / 输出端，我们可以利用错误处理连线来控制单进程共享变量的执行顺序。例如图
4.28 中的 VI，假设共享变量 Data 的值原本为 0，运行完下面这个加 2 减 1 的代码后，Data 的值必然为 1。

![](images/image268.png)

图 .28 共享变量的应用

但是，这并不意味着单进程共享变量可以防止出现竞争状态。设想图
4.28 中的 VI 只是程序中的一个子 VI，在其运行的同时，Data 还是可以在其它子 VI 中被访问修改的，依然可能处于竞争状态。